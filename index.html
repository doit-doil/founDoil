<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>House Overlay Example</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: #ffffff;
      display: flex;
      justify-content: center;
      padding: 40px 0;
    }

    .wrapper {
      position: relative;
      top: 150px;
      max-width: 900px;
      width: 100%;
    }

    .image-container {
      position: relative;
      overflow: hidden;
      background: #fff;
    }

    .image-container img.main {
      display: block;
      width: 100%;
      height: auto;
    }

    .circle-buttons {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 12px;
    }

    .circle-btn {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: #fff;
      font-size: 0px;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .circle-btn:hover,
    .rect-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 12px rgba(0, 0, 0, 0.9); 
    }

    .circle-btn:active,
    .rect-btn:active {
      transform: translateY(0);
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    }

    .btn-red {
      background: transparent;
      position: relative;
      top: 300px;
      right: 410px;
    }

    .btn-blue {
      background: transparent;
      position: relative;
      top: 188px;
      right: 290px;
    }

    .btn-yellow {
      background: transparent;
      position: relative;
      top: 310px;
      right: 310px;
      color: #333;
    }

    /* 직사각형 버튼 */
    .rect-btn {
      width: 130px;
      height: 225px;
      background: transparent;
      border: none;
      cursor: pointer;
      border-radius: 12px;
      position: absolute;
      top: 176px;
      right: 385px;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    /* 모달 배경 */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: none;              /* 처음엔 안 보이게 */
      align-items: flex-start;
      justify-content: center;
      padding-top: 190px;
      z-index: 999;
    }

    .modal {
      background: #ffffff;
      border-radius: 12px;
      padding: 16px 16px 16px;
      max-width: 480px;
      width: 90%;
      text-align: center;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.35);
      position: relative;
    }

    .modal p {
      margin: 8px 0 4px;
      font-size: 16px;
    }

    .modal-close {
      position: absolute;
      top: 20px;
      right: 10px;
      border: none;
      background: transparent;
      font-size: 40px;
      cursor: pointer;
      color: #fff;
    }

    .modal-close:hover {
      color: #000;
    }

    /* 이미지 + 네이버 버튼 오버레이 래퍼 */
    .modal-img-wrap {
      position: relative;
      display: inline-block;
    }

    .modal-img-wrap img {
      max-width: 100%;
      height: auto;
      border: 3px solid #000000;
      display: block;
      margin: 0 auto;
    }

    /* 이미지 위 네이버 버튼 */
    .naver-btn {
      position: absolute;
      bottom: 200px;
      right: 200px;
      padding: 80px 40px;
      font-size: 0px;
      border-radius: 999px;
      border: none;
      background: transparent;
      color: #fff;
      cursor: pointer;
      display: none;   /* 기본은 숨김, q.png일 때만 보이게 */
    }

    .naver-btn:hover {
      transform: translateY(-1px);
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="image-container">
      <img src="house.png" alt="house" class="main" />

      <!-- 기존 버튼들 -->
      <div class="circle-buttons">
        <button class="circle-btn btn-red" onclick="window.location.href='https://www.coupang.com/vp/products/8665703098?itemId=25151446885&vendorItemId=92149897220&src=1191000&spec=10999999&addtag=400&ctag=8665703098&lptag=CFM73928406&itime=20251201044937&pageType=PRODUCT&pageValue=8665703098&wPcid=17496089268552187238407&wRef=&wTime=20251201044937&redirect=landing&mcid=4028271cd4d24607aa9351d0f6d1eff0&sharesource=sharebutton&style=&isshortened=Y&settlement=N';"></button>

        <button class="circle-btn btn-blue" onclick="openModal('p.png', '우편물이다. 흠. 집에 정말 없나.')"></button>

        <button class="circle-btn btn-yellow" onclick="openModal('q.png', '어? 어디서 많이 본 아이폰 13핑크?')"></button>
      </div>

      <!-- 직사각형 버튼 -->
      <button
        class="rect-btn"
        type="button"
        onclick="openModal('n.png', '승민: &quot;쿵쿵쿵 형 저 병철인데요.&quot; \n...\n아무런 반응도 없다.')">
      </button>

    </div>
  </div>

  <!-- 모달: 이제 제대로 backdrop 포함해서 정의 -->
  <div class="modal-backdrop" id="modalBackdrop" onclick="backdropClick(event)">
    <div class="modal">
      <button class="modal-close" onclick="closeModal()" aria-label="닫기">×</button>

      <div class="modal-img-wrap">
        <img id="modalImage" src="" alt="popup" />
        <!-- 이미지 위 오버레이 네이버 버튼 -->
        <button
          id="naverBtn"
          class="naver-btn"
          type="button"
          onclick="window.open('https://doit-doil.github.io/lock_phone/', '_blank')"
        >
        </button>
      </div>

      <p id="modalCaption"></p>
    </div>
  </div>

  <script>
    function openModal(imgSrc, captionText) {
      const backdrop = document.getElementById("modalBackdrop");
      const img = document.getElementById("modalImage");
      const caption = document.getElementById("modalCaption");
      const naverBtn = document.getElementById("naverBtn");

      img.src = imgSrc;
      caption.textContent = captionText;

      // q.png일 때만 네이버 버튼 오버레이 보이기
      if (imgSrc === "q.png") {
        naverBtn.style.display = "inline-flex";
      } else {
        naverBtn.style.display = "none";
      }

      backdrop.style.display = "flex";
    }

    function closeModal() {
      const backdrop = document.getElementById("modalBackdrop");
      backdrop.style.display = "none";
    }

    function backdropClick(event) {
      if (event.target.id === "modalBackdrop") {
        closeModal();
      }
    }
  </script>
</body>
</html>
